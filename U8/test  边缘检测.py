# coding:gbk

"""
边缘检测的步骤：
1.去掉噪声
2.求梯度
3.确定边界
4.求真正的边界
函数：cv.Canny()
边缘方向与梯度关系呈垂直关系
"""

import cv2 as cv
img = cv.imread('y.jpg',cv.IMREAD_GRAYSCALE)
cv.imshow('img',img)

def nothing(x):
    pass

# 创建窗口名
cv.namedWindow('Canny')

# 创建滑动条
cv.createTrackbar('threshold1','Canny',0,255,nothing)
cv.createTrackbar('threshold2','Canny',0,255,nothing)


# 取值
while True:
    threshold1 = cv.getTrackbarPos('threshold1','Canny')
    threshold2 = cv.getTrackbarPos('threshold2','Canny')

    egdes = cv.Canny(img,threshold1,threshold2)
    # cv2.Canny()函数，第一个参数是输入图像，第二个和第三个参数是minVal和maxVal
    cv.imshow('Canny',egdes)
    k = cv.waitKey(25)&0XFF
    if chr(k) == 'q':
        break

cv.destroyAllWindows()
